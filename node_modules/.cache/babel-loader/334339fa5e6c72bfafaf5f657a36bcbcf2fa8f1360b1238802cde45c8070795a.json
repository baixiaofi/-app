{"ast":null,"code":"const axios = axios.create({\n  // 配置对象\n  // 基础路径，发请求的时候，路径当中会出现api\n  baseURL: \"/api\",\n  // 请求超时的时间\n  timeout: 5000\n});\n// 请求拦截器：在发请求之前，请求拦截器可以检测到，可以再请求发出之前做一些事情\nrequests.interceptors.request.use(config => {\n  // config:配置对象，对象里面有一个属性很重要，header请求头\n  if (store.state.detail.uuid_token) {\n    // 请求头添加一个字段(userTempId)\n    config.headers.userTempId = store.state.detail.uuid_token;\n  }\n  // 需要携带token带给服务器\n  if (store.state.user.token) {\n    config.headers.token = store.state.user.token;\n  }\n  // nprogress.start();\n  return config;\n});\n// 相应拦截器\nrequests.interceptors.response.use(res => {\n  // 成功的回调函数：服务器相应数据回来以后，响应拦截器可以检测到，可以做一些事情\n  return res.data;\n}, error => {\n  // 服务器响应失败的回调函数\n  return Promise.reject(new Error('fail'));\n});\n// 对外暴露\nexport default requests;","map":{"version":3,"names":["axios","create","baseURL","timeout","requests","interceptors","request","use","config","store","state","detail","uuid_token","headers","userTempId","user","token","response","res","data","error","Promise","reject","Error"],"sources":["C:/Users/Administrator/Desktop/project-spg/app/src/api/request.js"],"sourcesContent":["const axios = axios.create({\r\n    // 配置对象\r\n    // 基础路径，发请求的时候，路径当中会出现api\r\n    baseURL: \"/api\",\r\n    // 请求超时的时间\r\n    timeout: 5000,\r\n});\r\n// 请求拦截器：在发请求之前，请求拦截器可以检测到，可以再请求发出之前做一些事情\r\nrequests.interceptors.request.use((config) => {\r\n    // config:配置对象，对象里面有一个属性很重要，header请求头\r\n    if (store.state.detail.uuid_token) {\r\n        // 请求头添加一个字段(userTempId)\r\n        config.headers.userTempId = store.state.detail.uuid_token\r\n    }\r\n    // 需要携带token带给服务器\r\n    if (store.state.user.token) {\r\n        config.headers.token = store.state.user.token;\r\n    }\r\n    // nprogress.start();\r\n    return config\r\n})\r\n// 相应拦截器\r\nrequests.interceptors.response.use((res) => {\r\n    // 成功的回调函数：服务器相应数据回来以后，响应拦截器可以检测到，可以做一些事情\r\n    return res.data;\r\n}, (error) => {\r\n    // 服务器响应失败的回调函数\r\n    return Promise.reject(new Error('fail'))\r\n})\r\n// 对外暴露\r\nexport default requests;\r\n"],"mappings":"AAAA,MAAMA,KAAK,GAAGA,KAAK,CAACC,MAAM,CAAC;EACvB;EACA;EACAC,OAAO,EAAE,MAAM;EACf;EACAC,OAAO,EAAE;AACb,CAAC,CAAC;AACF;AACAC,QAAQ,CAACC,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EAC1C;EACA,IAAIC,KAAK,CAACC,KAAK,CAACC,MAAM,CAACC,UAAU,EAAE;IAC/B;IACAJ,MAAM,CAACK,OAAO,CAACC,UAAU,GAAGL,KAAK,CAACC,KAAK,CAACC,MAAM,CAACC,UAAU;EAC7D;EACA;EACA,IAAIH,KAAK,CAACC,KAAK,CAACK,IAAI,CAACC,KAAK,EAAE;IACxBR,MAAM,CAACK,OAAO,CAACG,KAAK,GAAGP,KAAK,CAACC,KAAK,CAACK,IAAI,CAACC,KAAK;EACjD;EACA;EACA,OAAOR,MAAM;AACjB,CAAC,CAAC;AACF;AACAJ,QAAQ,CAACC,YAAY,CAACY,QAAQ,CAACV,GAAG,CAAEW,GAAG,IAAK;EACxC;EACA,OAAOA,GAAG,CAACC,IAAI;AACnB,CAAC,EAAGC,KAAK,IAAK;EACV;EACA,OAAOC,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,MAAM,CAAC,CAAC;AAC5C,CAAC,CAAC;AACF;AACA,eAAenB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}